<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	
	<!-- Bootstrap -->
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="lib/bootstrap/css/bootstrap.css">

	<!-- Custom Styles -->
	<link rel="stylesheet" href ="lib/style.css">
	
	<!-- Theming -->
	<link rel="stylesheet" type="text/css" href="lib/theme.css">
	<script src="lib/theme.js"></script>
	
	<title>Makefile Maker</title>
</head>
<body>

	<!-- Start Theme -->
	<script> let theme = new Theme(); theme.install(); theme.start(); </script> 

	<nav class="navbar navbar-expand-lg sticky-top bm">
		<a class="navbar-brand fh" href="#">Make Maker</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
	</nav><br>
	
	<div class="container-fluid mb-5" >
		<div class="card m-2 bm" style="width: 30rem">
			<div class="card-body">
				<h5 class="card-title fh">Variables</h5>
				
			</div>
		</div>
		
		<div class="card bm m-2" id="card1">
			<div class="card-body" >
				<div class="card-header row mb-2">
					<h5 class="col fh">Rule 1</h5>
					<h6 class="mr-3 mb-3 fh" data-toggle="collapse" data-target="#cardform1" style="cursor: pointer;">⌵</h6>
				</div>
				<form id="cardform1" class="collapse show">
					<div class="form-group row">
						<label for="cmds" class="col-form-label col-sm-1 fh"><center>Perform</center></label>
						<input type="text" id="cmds" class="form-control border-secondary col mr-4 bm" placeholder="commands">
					</div>
					<div class="form-group row">
						<div class="input-group">
							<label for="Targets" class="col-form-label col-sm-1 fh"><center>on</center></label>
							<div class="custom-file col">
								<input type="file" class="custom-file-input " id="targets">
								<label class="custom-file-label " for="targets">Targets</label>
							</div>
							<label for="dpends" class="col-form-label col-sm-2 fh"><center>if there are changes in</center></label>
							<input type="text" id="dpends" class="form-control border-secondary col mr-4 bm" placeholder="dependencies">
						</div>
					</div>
				</form>
			</div>
		</div>
		<button type="button" id="Rulebtn" class="btn btn-outline-secondary col-1 m-4" onclick="AddRule()" data-toggle="collapse" data-target="#card2">+ Rule</button>
	</div>
	
	<div id="overlay" onclick="overoff()">
		 <div  id="text">Overlay Text</div>
	</div>
	
	<div class="navbar fixed-bottom mt-1 bm">
		<div class="container">
			<button class="btn btn-dark">Download</button>
			<button class="btn btn-secondary" onclick="overon()">Preview</button>
		</div>
	</div>
	
	<script>
		var cnt = 2;
		function AddRule()
		{
			var DivIns =
				'<div class="card bm m-2" id="card'+String(cnt)+'">'+
				'<div class="card-body">'+
					'<div class="card-header row mb-2">'+
						'<h5 class="col fh">Rule '+String(cnt)+'</h5>'+
						'<h6 class="mr-3 mb-3 fh" data-toggle="collapse" data-target="#cardform'+String(cnt)+'" style="cursor: pointer;">⌵</h6>'+
					'</div>'+
					'<form id="cardform'+String(cnt)+'" class="collapse show">'+
						'<div class="form-group row">'+
							'<label for="cmds" class="col-form-label col-sm-1 fh"><center>Perform</center></label>'+
							'<input type="text" id="cmds" class="form-control border-secondary col mr-4 bm" placeholder="commands">'+
						'</div>'+
						'<div class="form-group row">'+
							'<label for="Targets" class="col-form-label col-sm-1 fh"><center>on</center></label>'+
							'<input type="text" id="targets" class="form-control border-secondary col bm" placeholder="target files">'+
							'<label for="dpends" class="col-form-label col-sm-2 fh"><center>if there are changes in</center></label>'+
							'<input type="text" id="dpends" class="form-control border-secondary col mr-4 bm" placeholder="dependencies">'+
						'</div>'+
					'</form>'+
				'</div>'+
			'</div>';
			$("#card"+String(cnt-1)).after(DivIns);
			cnt++;
			document.getElementById("Rulebtn").setAttribute("data-target","#card"+String(cnt-1));
		}
		
		function overon()
		{
			document.getElementById("overlay").style.display = "block";
		}
		function overoff()
		{
			document.getElementById("overlay").style.display = "none";
		}
	</script>

	<!-- JS Needed for Bootstrap -->
	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="lib/bootstrap/js/bootstrap.js"></script>
	
</body>
</html>
